# Asker Theme (WooCommerce + ACF + CF7)

Классическая тема для интернет-магазина на WooCommerce.

## Установка
1. Залейте папку `asker/` по FTP в `wp-content/themes/`.
2. Активируйте тему в админке WP.
3. Плагины: WooCommerce, Advanced Custom Fields, Contact Form 7.
4. Создайте страницу «Главная» и назначьте её статической (Настройки → Чтение).

## Ассеты
- Стили: `assets/css/base.css`, `assets/css/header.css`, `assets/css/main.css`, `assets/css/pages.css`
- Скрипты: `assets/js/main.js`, `assets/js/cookie-consent.js`

## Дизайн‑токены и соглашения
- БЭМ: блоки/элементы/модификаторы (`.header`, `.header__nav`, `.btn`, `.btn--primary`).
- Токены CSS (в `assets/css/base.css` → `:root`): цвета, типографика, контейнеры, шкала отступов.
- Унифицированные кнопки: базовый класс `.btn` + модификаторы `.btn--primary`, `.btn--secondary`, `.btn--outline`.
- Контейнер: переменные `--container-max` (1200px) и `--container-max-lg` (1440px).

## Макеты (шрифты/цвета/отступы)
- Макет 1: https://www.figma.com/design/djzyg4iwvPen9ev6uSeiuc/Asker--Copy-?node-id=171-12514&t=LbDexq0WR32kN90Q-1
- Макет 2: https://www.figma.com/design/djzyg4iwvPen9ev6uSeiuc/Asker--Copy-?node-id=171-13082&t=LbDexq0WR32kN90Q-1
- Макет 3: https://www.figma.com/design/djzyg4iwvPen9ev6uSeiuc/Asker--Copy-?node-id=171-13205&t=LbDexq0WR32kN90Q-1
- Макет 4: https://www.figma.com/design/djzyg4iwvPen9ev6uSeiuc/Asker--Copy-?node-id=171-13981&t=LbDexq0WR32kN90Q-1

## Соглашения по верстке
- Используем только классы по БЭМ, без `!important` и инлайн‑стилей.
- Адаптивность: брейкпоинты 768px и 1024px+ (mobile‑first).
- Доступность: состояния `:focus-visible`, тач‑таргеты ≥ 44px.

## Деплой (кратко)
1. Залить папку `asker/` в `wp-content/themes/` по FTP/SFTP.
2. Активировать тему; установить WooCommerce, ACF, CF7.
3. Назначить «Главную» статической; привязать страницы WooCommerce.
4. **Важно**: В WooCommerce → Настройки → Дополнительно → Страницы магазина:
   - Убедитесь что страница "Магазин" выбрана и опубликована
   - Создайте страницу "Магазин" если её нет (Страницы → Добавить новую, слаг: `shop`)
5. **Создать контентные страницы** (Страницы → Добавить новую):
   - **Оплата** (слаг: `payment`, шаблон: "Оплата")
   - **Доставка** (слаг: `delivery`, шаблон: "Доставка")
   - **Гарантии** (слаг: `guarantees`, шаблон: "Гарантии")
   - **О компании** (слаг: `about`, шаблон: "О компании")
   - **Контакты** (слаг: `contacts`, шаблон: "Contacts Page")
6. Вставить шорткод CF7 на «Контактах», заполнить ACF на главной.

Смоук‑чек (визуально + без ошибок в консоли):
- Главная: hero, категории, популярные, доставка, about, опт.
- Каталог/Категория: сетка, пагинация, сортировка.
- Товар: галерея, цена, CTA, похожие.
- Корзина/Чекаут/Спасибо: функции и валидации.
- ЛК: логин, обзор, профиль, заказы, избранное.
- Поиск, Контакты (CF7 + карта), О компании.

Браузеры: Chrome, Firefox, Safari на 360/768/1024/1440.

SEO/перфоманс: `loading="lazy"`, разумные размеры изображений; мета/og в плагине SEO.

## Структура темы
```
asker/
├── assets/
│   ├── css/
│   │   ├── base.css      # Дизайн-токены, кнопки
│   │   ├── header.css    # Стили хедера
│   │   ├── main.css      # Основные стили
│   │   └── pages.css     # Контентные страницы, ЛК
│   ├── js/
│   │   ├── main.js       # Основная логика (фильтры, ЛК табы)
│   │   ├── cookie-consent.js
│   │   └── header-functions.js
│   └── images/
├── inc/
│   ├── setup.php         # Настройка темы
│   ├── enqueue.php       # Подключение стилей/скриптов
│   ├── woocommerce.php   # WooCommerce интеграция
│   ├── acf.php           # ACF поля
│   └── helpers.php       # Вспомогательные функции
├── woocommerce/
│   ├── myaccount/
│   │   └── my-account.php       # Кастомный ЛК
│   ├── archive-product.php      # Каталог/категории
│   ├── single-product.php       # Страница товара
│   ├── content-single-product.php  # Контент страницы товара
│   ├── content-product.php      # Карточка товара в списке
│   └── ...
├── page-*.php            # Шаблоны страниц
├── header.php
├── footer.php
└── functions.php
```

## Что сделано (2025‑10‑31)
- ✅ Дизайн‑токены (контейнеры, отступы, шрифты) + унифицированные кнопки по БЭМ.
- ✅ Header/Footer: мобильное меню, nav-dropdown, адаптив, состояния hover/focus.
- ✅ Главная: Hero, категории, популярные, доставка, about, опт — проверены стили и классы.
- ✅ Каталог/Категория, Товар, Корзина, Чекаут, Спасибо — базовые стили на месте.
- ✅ ЛК: кастомный шаблон `woocommerce/myaccount/my-account.php` с переключением вкладок.
- ✅ Поиск, Контакты, О компании — проверены.
- ✅ Адаптивность (768/1024+), доступность (focus-visible), перфоманс (lazy).
- ✅ Контентные страницы: оплата, доставка, гарантии (с хлебными крошками и дефолтным контентом).
- ✅ Фильтр цены в каталоге (PHP обработчик + JS через Enter/blur).
- ✅ Исправлены контейнеры на всех страницах (единый паттерн).
- ✅ Footer: динамические категории, обновлены ссылки "Покупателям".
- ✅ Кнопки в хедере: упрощённые hover эффекты (opacity: 0.9).
- ✅ Исправлен .gitignore для корректного трекинга файлов темы.
- ✅ **Гигиена проекта**: удалены дублирующие шаблоны, backup файлы, лишняя документация.
- ✅ **Страница товара**: кастомный шаблон `single-product.php` с хлебными крошками, `content-single-product.php` с двухколоночным layout (галерея + информация).
- ✅ **Редирект категорий**: автоматическое исправление некорректных URL `/product/category-slug/` → `/product-category/category-slug/`.

## Что осталось доработать
- Финальная вычитка отступов/типографики по макету (без фанатизма).
- Проверка всех страниц в браузерах (Chrome/Firefox/Safari) на 360/768/1024/1440.
- Добавить `loading="lazy"` к изображениям где уместно.
- SEO: мета/og‑теги через плагин (Yoast/Rank Math).

## Коммиты
Используем Conventional Commits. Пример:
`feat(css): токены и кнопки; ui: правки главной`

## Приватные данные
- Ссылки/доступы хранить в `NOTES.private.md` (в `.gitignore`).

## Лицензии
- Стандартные лицензии на зависимости WordPress/WooCommerce/ACF/CF7.







